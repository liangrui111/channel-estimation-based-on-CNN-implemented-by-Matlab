HT=HT';
Ht1=HT(:,1:5000);
Ht2=HT(:,1:1250);
Ht3=HT(:,1:1250);
Ht4=HT(:,1:1250);
Ht5=HT(:,1:1250);
%------训练数据五种不同的分辨率-----------
Ht1ls=upsampLowRes1t(Ht1);
Ht1l=Ht1ls{1,1};
Ht2ls=upsampLowRes2t(Ht2);
Ht2l=Ht2ls{1,1};
Ht3ls=upsampLowRes3t(Ht3);
Ht3l=Ht3ls{1,1};
Ht4ls=upsampLowRes4t(Ht4);
Ht4l=Ht4ls{1,1};
Ht5ls=upsampLowRes5t(Ht5);
Ht5l=Ht5ls{1,1};
%训练数据转化成多维矩阵形式
Htest=reshape(HT(:,1:10000),32,32,2,10000);
HtestL=[Ht1l,Ht2l,Ht3l,Ht4l,Ht5l];
HtestL=reshape(HtestL,32,32,2,10000);
He=predict(trainedNetwork_3,HtestL);
He=reshape(He,2048,10000);

NMSE=sum(sum((HT(:,1:10000)-He).^2))/(sum(sum((HT(:,1:10000).*HT(:,1:10000)))));
NMSE=10*log10(NMSE);